<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QtSourceView: QsvLangDefFactory Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>QsvLangDefFactory Class Reference</h1><!-- doxytag: class="QsvLangDefFactory" -->An abstract factory for languages definitions.  
<a href="#_details">More...</a>
<p>
<a href="classQsvLangDefFactory-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classQsvLangDef.html">QsvLangDef</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQsvLangDefFactory.html#a0">getHighlight</a> (QString fileName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">query the factory for a specific syntax definition  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQsvLangDefFactory.html#a1">loadDirectory</a> (QString directory)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">scan a directory for language definitions  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQsvLangDefFactory.html#a2">clearMimeTypes</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clear the internal list of suported mime types  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQsvLangDefFactory.html#a3">addDefaultMimeTypes</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">install a default set of mime types  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQsvLangDefFactory.html#a4">addMimeTypes</a> (QString fileName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">install a set of mime types  <a href="#a4"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classQsvLangDefFactory.html">QsvLangDefFactory</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQsvLangDefFactory.html#e0">getInstanse</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the instace of the object  <a href="#e0"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
An abstract factory for languages definitions. 
<p>
When making an editor (for example), you will like to load different file types, for every different one the use might expect a different highlight defintion. This class is a factory for those defintions: you load the defintions from a directory, and then you start quering for hightlighs for specific file names.<p>
The class is defined as a singleton class, which means you do not need to make an instanse, and not cary about memory allocations.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classQsvLangDef.html">QsvLangDef</a></dd></dl>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a3"></a><!-- doxytag: member="QsvLangDefFactory::addDefaultMimeTypes" ref="a3" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool QsvLangDefFactory::addDefaultMimeTypes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
install a default set of mime types 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true on success, false on any error</dd></dl>
In oder to recognize a syntax highlight by the file name extension, one needs to install a set of mime types. By default this factory installs a pre defined internal mime types set, which is tested for a a minimal set of languages.<p>
It is possible to add more mime types later on using <a class="el" href="classQsvLangDefFactory.html#a4">addMimeTypes()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classQsvLangDefFactory.html#a4">addMimeTypes( QString )</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a2">clearMimeTypes()</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a0">getHighlight( QString )</a></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a4"></a><!-- doxytag: member="QsvLangDefFactory::addMimeTypes" ref="a4" args="(QString fileName)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool QsvLangDefFactory::addMimeTypes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QString&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fileName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
install a set of mime types 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true on success, false on any error</dd></dl>
If you expect you application to have more extensions added by the end users they will need to add a language definition and a mime type. One way of implementing this is to have a directory in which users can put *.lang files, and on it's root make an empty "mime.types" for them to add their own mime types.<p>
Calling this function will add mime types to the internal list. If you wish you can call <a class="el" href="classQsvLangDefFactory.html#a2">clearMimeTypes()</a> before to use only your mime types list<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classQsvLangDefFactory.html#a2">clearMimeTypes()</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a0">getHighlight( QString )</a></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member="QsvLangDefFactory::clearMimeTypes" ref="a2" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void QsvLangDefFactory::clearMimeTypes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
clear the internal list of suported mime types 
<p>
This function cleans the internal list of supported mime types.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classQsvLangDefFactory.html#a3">addDefaultMimeTypes()</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a4">addMimeTypes()</a></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a0"></a><!-- doxytag: member="QsvLangDefFactory::getHighlight" ref="a0" args="(QString fileName)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classQsvLangDef.html">QsvLangDef</a> * QsvLangDefFactory::getHighlight           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QString&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fileName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
query the factory for a specific syntax definition 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the correct syntax definition or NULL if none found</dd></dl>
The next stage after loading a group of syntax definitions if to ask this factory for a syntax definition which should be used to represent a file. This function look for the syntax definition according to the list of mime types defined internally and return a pointer to the corresponding syntax definition, or NULL if none fonud.<p>
The search is done by quering each of the languages for it's mime types, then looking up in an internal list for the correct mime type and compering the globs of that mime type to the file name passed, if there is a match the language is returned as a pointer.<p>
The represented pointer should not be unallocated by the user, as it's unallocated by this factory.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classQsvLangDefFactory.html#a3">addDefaultMimeTypes()</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a4">addMimeTypes()</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a2">clearMimeTypes()</a></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e0"></a><!-- doxytag: member="QsvLangDefFactory::getInstanse" ref="e0" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classQsvLangDefFactory.html">QsvLangDefFactory</a> * QsvLangDefFactory::getInstanse           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
return the instace of the object 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the instanse of the factory</dd></dl>
This class is defined as a singleton class, with a private constructor the only way to interact with this class is by calling this function is by getting the current instanse and then using the retured pointer.<p>
If this is the first time you call this function and QsvLangDefFactory::LangFactory is not allocated, the constructor will be called for you.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="QsvLangDefFactory::loadDirectory" ref="a1" args="(QString directory)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void QsvLangDefFactory::loadDirectory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QString&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>directory</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
scan a directory for language definitions 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>directory</em>&nbsp;</td><td>the directory to be scanned</td></tr>
  </table>
</dl>
The easiest way for populating the list of syntax definitinos found in this class is to let it scan in a directory for languages definitions and add them to it's internal list.<p>
The directory passed as a parameter will be scanned for *.lang files. Each <b>lang</b> file must be a valid XML to be loaded by a <a class="el" href="classQsvLangDef.html">QsvLangDef</a> file (must be a valid GTK Source View language definition.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classQsvLangDef.html">QsvLangDef</a> <p>
<a class="el" href="classQsvLangDefFactory.html#a0">QsvLangDefFactory::getHighlight( QString )</a></dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="qsvlangdeffactory_8h-source.html">qsvlangdeffactory.h</a><li>src/<a class="el" href="qsvlangdeffactory_8cpp.html">qsvlangdeffactory.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Aug 18 14:09:19 2006 for QtSourceView by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
