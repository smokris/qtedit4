This is a demo of a syntax highlighter done in C++/Qt.
The code is extraeamly non optimized, but it does work most of the time.
The class is very slow, so please don't use it on large files.

The syntax highlighter definitions are the same ones used by the gtksourceview library
for gtk. The difinitions are passed to a class which does the highligting. This means 
that the engine is not aware of what he is coloring, and adding new languages is as
trivial as adding new XML to the langs directory.

There are 2 abstract factories on this code:

1) highligh factory: 
   Loads a directory which *.lang files, and you can query it later,
   and it will return you the languae definition for your language
   (you give it a file name and it returns a pointer to the language definition
   you need to apply to the syntax highliter)
   
   
2) colors factory:
   The language definition conatins class names for coloring, and not the actual style
   used on screen. To convert that name into color + font style we use this class.
   While this is not trully an abstract factory, in the future it may change. 
   
 
To use this code in your application:

1) Intiailize the hilight factory with a directory

    QeLangDefFactory::getInstanse()->loadDirectory( QApplication::applicationDirPath() + "/langs" );

2) Generate a colors definition class and load a file:

    defColors = new kateItemDataManager();
    defColors->load( QApplication::applicationDirPath() + "/langs/kate.xml" );
    
3) Query for a language definition, and a generate a QSyntaxHighliter:

    QeGtkSourceViewLangDef myLang    = QeLangDefFactory::getInstanse()->getHighlight( fileName );
    QeGTK_Highlighter	   highlight = new QeGTK_Highlighter( editor, defColors );
    highlight->setHighlight( myLang );
    highlight->setDocument( editor->document() );
    
All code is GPL V2, but will probably be modified to LGPL in the future.


The highlight definitions are part of the gtksourceview library:
    http://gtksourceview.sourceforge.net/

The idea for highliting the current line was discussed here:
    http://www.qtcentre.org/forum/showthread.php?t=456


Diego Iastrubni <elcuco@kde.org>,  4-2-2006
